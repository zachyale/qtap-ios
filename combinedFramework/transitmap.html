<!--Andrew Stroz-->
<!--SummerAppDev Team-->
<!--maps html doc for transit-->
<!--29/04/2014-->

<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="UTF-8">
    <title>Directions service</title>
    <style>
      html, body, #map-canvas {
        height: 85.55%;
        margin: 0px;
        padding: 0px;
        width: 100%;
        
      }
      #panel {
        position: absolute;
        top: 0px;
        left: 50%;
        margin-left: 0px;
        z-index: 5;
        background-color: #fff;
        padding: 5px;
        border: 1px solid #999;
        
      }
    </style>
    <style>
      #directions-panel {
        height: 50%;
        float: right;
        width: 100%;
        overflow: auto;
        background-color:#fff;
        background-image:url('paper.gif');
        background-size: contain;
        background-repeat: no-repeat;
        background-attachment:fixed;
		background-position:center top; 
      }

      #map-canvas {
        margin-right 100%;
      }

      #control {
        background: #fff;
        top: 100px;
        padding: 2px;
        font-size: 12px;
        font-family: Arial;
        border: 1px solid #fff;
        box-shadow: 0 2px 2px rgba(33, 33, 33, 0.4);
        display: none;
        overflow: hidden;
      }

      @media print {
        #map-canvas {
          height: 80%;
          margin: 0;
        }

        #directions-panel {
          float: none;
          width: auto;
        }
      }
    </style>
    <script src="http://maps.google.com/maps/api/js?sensor=true"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script>
    
   
    var pos;
    var loaddress;
    var directionsDisplay;
    var directionsService = new google.maps.DirectionsService();
    var map;
    
    function initialize() {
      directionsDisplay = new google.maps.DirectionsRenderer();
      var mapOptions = {
        zoom: 16,
        disableDefaultUI: true,
        zoomControl: true,
        zoomControlOptions: {
            style: google.maps.ZoomControlStyle.LARGE
        },
      	mapTypeControl: true,
      	mapTypeControlOptions: {
          style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,
          position: google.maps.ControlPosition.RIGHT_BOTTOM
      	}
      };
      
      
      if(navigator.geolocation) {
    	  
        navigator.geolocation.getCurrentPosition(function(position) {
          pos = new google.maps.LatLng(position.coords.latitude,position.coords.longitude);
		  var stringPos	= pos.toString;
          map.setCenter(pos);
          
          var geocoder = new google.maps.Geocoder();
    	  geocoder.geocode({
    		  'location': new google.maps.LatLng(position.coords.latitude, position.coords.longitude)
    	  }, 
    	  function(results, status) {
    	    if (status == google.maps.GeocoderStatus.OK) {
    			loaddress = (results[0].formatted_address);
    			//alert('Current Address: ' + loaddress);
    	    } else {
    	      alert('Geocoder failed due to: ' + status);
    	    }
    	  });
          
        }, function() {
          handleNoGeolocation(true);
        });
      } else {
        handleNoGeolocation(false);
      }
      map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
      directionsDisplay.setMap(map);
      directionsDisplay.setPanel(document.getElementById('directions-panel'));

  		var control = document.getElementById('control');
  		control.style.display = 'block';
  		map.controls[google.maps.ControlPosition.TOP_CENTER].push(control);
  		
  		
    }

    function handleNoGeolocation(errorFlag) {
      if (errorFlag) {
        var content = 'Error: The Geolocation service failed.';
      } else {
        var content = 'Error: Your browser doesn\'t support geolocation.';
      }
	
      var options = {
        map: map,
        position: new google.maps.LatLng(60, 105),
        content: content
      };
      var infowindow = new google.maps.InfoWindow(options);
      map.setCenter(options.position);
      
    }
    
    function calcRoute() {
    	
  	  
  	  var start = document.getElementById('start').value;
  		var end = document.getElementById('end').value;
  	  if (start == "My Location"){

  	  	var request = {
	  	      origin:loaddress,
	  	      destination:end,
	  	      travelMode: google.maps.TravelMode.TRANSIT
	  	};
 
  	  } else if (start != "My Location") {
	  	var request = {
	  	      origin:start,
	  	      destination:end,
	  	      travelMode: google.maps.TravelMode.TRANSIT
	  	  };
  	  }
  	 	directionsService.route(request, function(response, status) {
	  	    if (status == google.maps.DirectionsStatus.OK) {
	  	      directionsDisplay.setDirections(response);
	  	    }
	  	  });
  	 	document.getElementById("directions-panel").style.backgroundImage="url('none')";
  	}

    google.maps.event.addDomListener(window, 'load', initialize);

        </script>
  </head>
  <body>
    <div id="control">
      <strong>Start:</strong>
      <select id="start" onchange="calcRoute();">
      	<option value="My Location">My Location</option>
        <option value="Abramsky Hall Queen's University Kingston, ON K7L 3J8">Abramsky Hall</option>
	      <option value="Adelaide Hall, Queen's University, Kingston, ON K7L 2V9">Adelaide Hall</option>
	      <option value="Agnes Etherington Art Centre, 36 University Ave, Kingston, ON K7L 3N6">Agnes Etherington Art Centre</option>
	      <option value="Ban Righ Centre, Queen's University, Kingston, ON K7L 2S8">Ban Righ Centre</option>
	      <option value="Ban Righ Hall, Queen's University, Kingston, ON K7L">Ban Righ Hall</option>
	      <option value="Beamish-Munro Hall Queen's University Kingston, ON K7L 3N6">Beamish-Munro Hall</option>
	      <option value="Biosciences Complex Queen's University Kingston, ON K7L 3N6">Biosciences Complex</option>
	      <option value="Botterell Hall Kingston, ON K7L 2V5">Botterell Hall</option>
	      <option value="Bruce Wing Queen's University Kingston, ON K7L 2N8">Bruce Wing</option>
	      <option value="Cancer Research Institute Queen's University Kingston, ON K7L 3J7">Cancer Research Institute</option>
	      <option value="Cataraqui Bldg Queen's University Kingston, ON K7L 3J8">Cataraqui Building</option>
	      <option value="Carruthers Hall Queen's University Kingston, ON K7L 2N8">Carruthers Hall</option>
	      <option value="Chernoff Hall Auditorium Queen's University Kingston, ON K7L">Chernoff Auditorium</option>
	      <option value="Chernoff Hall Queen's University Kingston, ON K7L">Chernoff Hall</option>
	      <option value="Chown Hall Queen's University Kingston, ON K7L 2V9">Chown Hall</option>
	      <option value="Clark Hall Queen's University Kingston, ON K7L 2N8">Clark Hall</option>
	      <option value="Community Outreach Centre Queen's University Kingston, ON K7L 3M9">Community Outreach Centre</option>
	      <option value="Craine Bldg Queen's University Kingston, ON K7L 3L3">Craine Building</option>
	      <option value="Douglas Library Queen’s University Kingston, ON K7L 5C4">Douglas Library</option>
	      <option value="Dunning Hall Queen's University Kingston, ON K7L 3N9">Dunning Hall</option>
	      <option value="Dupuis Hall Queen's University Kingston, ON K7L 3N6">Dupuis Hall</option>
	      <option value="Earl Hall Queen's University Kingston, ON K7L 3J9">Earl Hall</option>
	      <option value="Ellis Hall Queen's University Kingston, ON K7L 3N9">Ellis Hall</option>
	      <option value="Etherington Hall Queen's University Kingston, ON K7L 3N6">Etherington Hall</option>
	      <option value="Dept of Film and Media Queen's University Kingston, ON K7L 2V8">Film and Media</option>
	      <option value="Fleming Hall Queen's University Kingston, ON K7L 2N8">Fleming Hall</option>
	      <option value="Four Directions Aboriginal Student Centre Queen's University Kingston, ON K7L 3J9">Four Directions Aboriginal Student Centre</option>
	      <option value="Goodes Hall, 143 Union St W 143 Union St W Queen's University, Kingston, ON K7L 2P3">Goodes Hall</option>
	      <option value="Goodwin Hall Queen's University Kingston, ON K7L 3N6">Goodwin Hall</option>
	      <option value="Gordon-Brockington Hall Queen's University Kingston, ON K7L 3X3">Gordon-Brockington Hall</option>
	      <option value="Gordon Hall Queen's University Kingston, ON K7L 2N8">Gordon Hall</option>
	      <option value="The Grad Club 162 Barrie St Kingston, ON K7L 3K1">Grad Club</option>
	      <option value="Grant Hall Queen's University Kingston, ON K7L 3N5">Grant Hall</option>
	      <option value="Grey House Queen's University Kingston, ON K7L 2S7">Grey House</option>
	      <option value="Harkness International Hall Queen's University Kingston, ON K7L 2J4">Harkness International Hall</option>
	      <option value="Harrison-LeCaine Hall Queen’s University, Kingston, ON K7L 2S7">Harrison-LeCaine Hall</option>
	      <option value="Humphrey Hall Queen's University Kingston, ON K7L 3L3">Humphrey Hall</option>
	      <option value="Jackson Hall Queen's University Kingston, ON K7L 2N8">Jackson Hall</option>
	      <option value="Jean Royce Hall Kingston, ON K7M 2H3">Jean Royce Hall</option>
	      <option value="Jeffery Hall Queen's University Kingston, ON K7L">Jeffery Hall</option>
	      <option value="John Deutsch University Centre Queen's University Kingston, ON K7L 2N9">John Deutsch University Centre</option>
	      <option value="Kathleen Ryan Hall Queen's University Kingston, ON K7L">Kathleen Ryan Hall</option>
	      <option value="Kingston Hall Queen's University Kingston, ON K7L 3N5">Kingston Hall</option>
	      <option value="Kingston General Hospital 76 Stuart St Kingston, ON K7L 2V7">Kingston General Hospital</option>
	      <option value="LaSalle Bldg Queen's University Kingston, ON K7L 2V8">LaSalle Building</option>
	      <option value="Leonard Hall Queen's University Kingston, ON K7L">Leonard Hall</option>
	      <option value="Leggett Hall, 194 Stuart St, Kingston, ON K7L 5V2">Leggett Hall</option>
	      <option value="MacGillivray Brown Hall Queen's University Kingston, ON K7L 3K3">MacGillivray Brown Hall</option>
	      <option value="Mackintosh-Corry Hall Queen's University Kingston, ON K7L 3N9">Mackintosh-Corry Hall</option>
	      <option value="Katherine Bermingham Macklem House Queen's University Kingston, ON K7L 3J6">Macklem House</option>
	      <option value="McLaughlin Hall, Queen's University, Kingston, ON K7L">McLaughlin Hall</option>
	      <option value="McNeill House Queen's University Kingston, ON K7L 3T8">McNeill House</option>
	      <option value="Miller Hall Queen's University Kingston, ON K7L 2N8">Miller Hall</option>
	      <option value="Morris Hall Queen's University Kingston, ON K7L 3T7">Morris Hall</option>
	      <option value="Museum of Health Care Queen's University Kingston, ON K7L 2V7">Museum of Health Care</option>
	      <option value="Nicol Hall Queen's University Kingston, ON K7L 2N8">Nicol Hall</option>
	      <option value="Old Medical Bldg, Queen's University, Kingston, ON K7L 3L3">Old Medical Building</option>
	      <option value="Ontario Hall Queen's University Kingston, ON K7L 3N5">Ontario Hall</option>
	      <option value="John Deutsch University Centre, Queen's University, Kingston, ON K7L 2N9">Physical Education Centre</option>
	      <option value="Queen's Athletics & Recreation, 284 Earl St, Kingston, ON K7L 3N6">Queen’s Centre</option>
	      <option value="Queen’s Daycare Queen's University Kingston, ON K7L 2P6">Queen’s Daycare</option>
	      <option value="Queen's Quarterly Queen's University Kingston, ON K7L 3J9">Queen’s Quarterly/McGill-Queen’s Press</option>
	      <option value="Quinte Thousand Island Lodge Queen's University Kingston, ON K7L 5E2">Quinte Thousand Island Lodge</option>
	      <option value="Rideau Bldg Queen's University Kingston, ON K7L 2V9">Rideau Building</option>
	      <option value="Richardson Hall Queen's University Kingston, ON K7L 3N9">Richardson Hall</option>
	      <option value="Richardson Laboratory Queen's University Kingston, ON K7L 2V7">Richardson Laboratory</option>
	      <option value="School of English Queen's University Kingston, ON K7L 3V2">School of English</option>
	      <option value="Sir John A Macdonald Hall Queen's University Kingston, ON K7L">Sir John A Macdonald Hall</option>
	      <option value="Stirling Hall Queen's University Kingston, ON K7L 2S8">Stirling Hall</option>
	      <option value="Joseph S. Stauffer Library, Kingston, ON">Stauffer Library</option>
	      <option value="Summerhill Queen's University Kingston, ON K7L">Summerhill</option>
	      <option value="Theological Hall Queen's University Kingston, ON K7L 3L3">Theological Hall</option>
	      <option value="University Club Queen's University Kingston, ON K7L 2V8">University Club</option>
	      <option value="Victoria Hall Queen's University Kingston, ON K7L 3N8">Victoria Hall</option>
	      <option value="Waldron Tower Kingston, ON K7L">Waldron Tower</option>
	      <option value="Walter Light Hall Queen's University Kingston, ON K7L">Walter Light Hall</option>
	      <option value="Watson Hall Queen's University Kingston, ON K7L 2S7">Watson Hall</option>
	      <option value="Watts Hall Queen's University Kingston, ON K7L 3V1">Watts Hall</option>      
      </select>
      <strong><br>End:</strong>
      <select id="end" onchange="calcRoute();">
        <option value="Abramsky Hall Queen's University Kingston, ON K7L 3J8">Abramsky Hall</option>
	      <option value="Adelaide Hall, Queen's University, Kingston, ON K7L 2V9">Adelaide Hall</option>
	      <option value="Agnes Etherington Art Centre, 36 University Ave, Kingston, ON K7L 3N6">Agnes Etherington Art Centre</option>
	      <option value="Ban Righ Centre, Queen's University, Kingston, ON K7L 2S8">Ban Righ Centre</option>
	      <option value="Ban Righ Hall, Queen's University, Kingston, ON K7L">Ban Righ Hall</option>
	      <option value="Beamish-Munro Hall Queen's University Kingston, ON K7L 3N6">Beamish-Munro Hall</option>
	      <option value="Biosciences Complex Queen's University Kingston, ON K7L 3N6">Biosciences Complex</option>
	      <option value="Botterell Hall Kingston, ON K7L 2V5">Botterell Hall</option>
	      <option value="Bruce Wing Queen's University Kingston, ON K7L 2N8">Bruce Wing</option>
	      <option value="Cancer Research Institute Queen's University Kingston, ON K7L 3J7">Cancer Research Institute</option>
	      <option value="Cataraqui Bldg Queen's University Kingston, ON K7L 3J8">Cataraqui Building</option>
	      <option value="Carruthers Hall Queen's University Kingston, ON K7L 2N8">Carruthers Hall</option>
	      <option value="Chernoff Hall Auditorium Queen's University Kingston, ON K7L">Chernoff Auditorium</option>
	      <option value="Chernoff Hall Queen's University Kingston, ON K7L">Chernoff Hall</option>
	      <option value="Chown Hall Queen's University Kingston, ON K7L 2V9">Chown Hall</option>
	      <option value="Clark Hall Queen's University Kingston, ON K7L 2N8">Clark Hall</option>
	      <option value="Community Outreach Centre Queen's University Kingston, ON K7L 3M9">Community Outreach Centre</option>
	      <option value="Craine Bldg Queen's University Kingston, ON K7L 3L3">Craine Building</option>
	      <option value="Douglas Library Queen’s University Kingston, ON K7L 5C4">Douglas Library</option>
	      <option value="Dunning Hall Queen's University Kingston, ON K7L 3N9">Dunning Hall</option>
	      <option value="Dupuis Hall Queen's University Kingston, ON K7L 3N6">Dupuis Hall</option>
	      <option value="Earl Hall Queen's University Kingston, ON K7L 3J9">Earl Hall</option>
	      <option value="Ellis Hall Queen's University Kingston, ON K7L 3N9">Ellis Hall</option>
	      <option value="Etherington Hall Queen's University Kingston, ON K7L 3N6">Etherington Hall</option>
	      <option value="Dept of Film and Media Queen's University Kingston, ON K7L 2V8">Film and Media</option>
	      <option value="Fleming Hall Queen's University Kingston, ON K7L 2N8">Fleming Hall</option>
	      <option value="Four Directions Aboriginal Student Centre Queen's University Kingston, ON K7L 3J9">Four Directions Aboriginal Student Centre</option>
	      <option value="Goodes Hall, 143 Union St W 143 Union St W Queen's University, Kingston, ON K7L 2P3">Goodes Hall</option>
	      <option value="Goodwin Hall Queen's University Kingston, ON K7L 3N6">Goodwin Hall</option>
	      <option value="Gordon-Brockington Hall Queen's University Kingston, ON K7L 3X3">Gordon-Brockington Hall</option>
	      <option value="Gordon Hall Queen's University Kingston, ON K7L 2N8">Gordon Hall</option>
	      <option value="The Grad Club 162 Barrie St Kingston, ON K7L 3K1">Grad Club</option>
	      <option value="Grant Hall Queen's University Kingston, ON K7L 3N5">Grant Hall</option>
	      <option value="Grey House Queen's University Kingston, ON K7L 2S7">Grey House</option>
	      <option value="Harkness International Hall Queen's University Kingston, ON K7L 2J4">Harkness International Hall</option>
	      <option value="Harrison-LeCaine Hall Queen’s University, Kingston, ON K7L 2S7">Harrison-LeCaine Hall</option>
	      <option value="Humphrey Hall Queen's University Kingston, ON K7L 3L3">Humphrey Hall</option>
	      <option value="Jackson Hall Queen's University Kingston, ON K7L 2N8">Jackson Hall</option>
	      <option value="Jean Royce Hall Kingston, ON K7M 2H3">Jean Royce Hall</option>
	      <option value="Jeffery Hall Queen's University Kingston, ON K7L">Jeffery Hall</option>
	      <option value="John Deutsch University Centre Queen's University Kingston, ON K7L 2N9">John Deutsch University Centre</option>
	      <option value="Kathleen Ryan Hall Queen's University Kingston, ON K7L">Kathleen Ryan Hall</option>
	      <option value="Kingston Hall Queen's University Kingston, ON K7L 3N5">Kingston Hall</option>
	      <option value="Kingston General Hospital 76 Stuart St Kingston, ON K7L 2V7">Kingston General Hospital</option>
	      <option value="LaSalle Bldg Queen's University Kingston, ON K7L 2V8">LaSalle Building</option>
	      <option value="Leonard Hall Queen's University Kingston, ON K7L">Leonard Hall</option>
	      <option value="Leggett Hall, 194 Stuart St, Kingston, ON K7L 5V2">Leggett Hall</option>
	      <option value="MacGillivray Brown Hall Queen's University Kingston, ON K7L 3K3">MacGillivray Brown Hall</option>
	      <option value="Mackintosh-Corry Hall Queen's University Kingston, ON K7L 3N9">Mackintosh-Corry Hall</option>
	      <option value="Katherine Bermingham Macklem House Queen's University Kingston, ON K7L 3J6">Macklem House</option>
	      <option value="McLaughlin Hall, Queen's University, Kingston, ON K7L">McLaughlin Hall</option>
	      <option value="McNeill House Queen's University Kingston, ON K7L 3T8">McNeill House</option>
	      <option value="Miller Hall Queen's University Kingston, ON K7L 2N8">Miller Hall</option>
	      <option value="Morris Hall Queen's University Kingston, ON K7L 3T7">Morris Hall</option>
	      <option value="Museum of Health Care Queen's University Kingston, ON K7L 2V7">Museum of Health Care</option>
	      <option value="Nicol Hall Queen's University Kingston, ON K7L 2N8">Nicol Hall</option>
	      <option value="Old Medical Bldg, Queen's University, Kingston, ON K7L 3L3">Old Medical Building</option>
	      <option value="Ontario Hall Queen's University Kingston, ON K7L 3N5">Ontario Hall</option>
	      <option value="John Deutsch University Centre, Queen's University, Kingston, ON K7L 2N9">Physical Education Centre</option>
	      <option value="Queen's Athletics & Recreation, 284 Earl St, Kingston, ON K7L 3N6">Queen’s Centre</option>
	      <option value="Queen’s Daycare Queen's University Kingston, ON K7L 2P6">Queen’s Daycare</option>
	      <option value="Queen's Quarterly Queen's University Kingston, ON K7L 3J9">Queen’s Quarterly/McGill-Queen’s Press</option>
	      <option value="Quinte Thousand Island Lodge Queen's University Kingston, ON K7L 5E2">Quinte Thousand Island Lodge</option>
	      <option value="Rideau Bldg Queen's University Kingston, ON K7L 2V9">Rideau Building</option>
	      <option value="Richardson Hall Queen's University Kingston, ON K7L 3N9">Richardson Hall</option>
	      <option value="Richardson Laboratory Queen's University Kingston, ON K7L 2V7">Richardson Laboratory</option>
	      <option value="School of English Queen's University Kingston, ON K7L 3V2">School of English</option>
	      <option value="Sir John A Macdonald Hall Queen's University Kingston, ON K7L">Sir John A Macdonald Hall</option>
	      <option value="Stirling Hall Queen's University Kingston, ON K7L 2S8">Stirling Hall</option>
	      <option value="Joseph S. Stauffer Library, Kingston, ON">Stauffer Library</option>
	      <option value="Summerhill Queen's University Kingston, ON K7L">Summerhill</option>
	      <option value="Theological Hall Queen's University Kingston, ON K7L 3L3">Theological Hall</option>
	      <option value="University Club Queen's University Kingston, ON K7L 2V8">University Club</option>
	      <option value="Victoria Hall Queen's University Kingston, ON K7L 3N8">Victoria Hall</option>
	      <option value="Waldron Tower Kingston, ON K7L">Waldron Tower</option>
	      <option value="Walter Light Hall Queen's University Kingston, ON K7L">Walter Light Hall</option>
	      <option value="Watson Hall Queen's University Kingston, ON K7L 2S7">Watson Hall</option>
	      <option value="Watts Hall Queen's University Kingston, ON K7L 3V1">Watts Hall</option>      
      
      </select>
    </div>
    <div id="directions-panel"></div>
    <div id="map-canvas"></div>
  </body>
</html>